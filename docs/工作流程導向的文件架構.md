# role: AI - Vue 3 + WebGPU 專案文件架構指引 (2025-01-21 更新)

## 核心建議

**📋 更新說明**: 本文件已更新以反映實際專案結構，包含完整的 Vue 3 + WebGPU 前端應用與工作流程導向的文件組織系統。

### **工作流程導向的文件架構**
```
Gary/                          # 專案根目錄
├── clientapp/                 # Vue 3 + WebGPU 前端應用
│   ├── src/
│   │   ├── components/        # Vue 元件
│   │   │   ├── WebGPUCanvas.vue     # WebGPU 渲染元件
│   │   │   └── ThemeToggle.vue      # 主題切換元件
│   │   ├── composables/       # Composition API 邏輯
│   │   │   ├── useWebGPUUI.ts       # WebGPU UI 管理
│   │   │   └── themeManager.ts      # 主題管理系統
│   │   ├── pages/             # 頁面元件
│   │   │   ├── Home.vue             # 入口頁面
│   │   │   └── WebGPU.vue           # WebGPU Demo 頁面
│   │   ├── styles/            # 樣式系統
│   │   │   └── theme.css            # 主題變數與樣式
│   │   ├── App.vue            # 主應用元件
│   │   ├── main.ts            # 應用入口
│   │   └── router.ts          # Vue Router 配置
│   ├── package.json           # 前端依賴管理
│   ├── vite.config.ts         # Vite 建置配置
│   └── tsconfig.json          # TypeScript 配置
├── docs/                      # 專案文件系統
│   ├── AI團隊角色指令庫/        # AI agent definitions
│   │   ├── AI團隊角色指令庫-v2.md
│   │   ├── CLI操作指南.md
│   │   ├── 工作流程導向的文件架構.md  # 此文件
│   │   └── 自動化工作流程.md
│   ├── 角色工作流程/            # Role workflows & drafts
│   │   ├── BE/                # BE後端開發
│   │   └── DevOps/            # DevOps維運部署
│   │   ├── FE/                # FE前端開發
│   │   ├── PM/                # PM產品規劃
│   │   ├── QA/                # QA品質保證
│   │   ├── SA/                # SA系統分析
│   │   ├── UIUX/              # UI/UX使用者體驗
│   ├── 專案決策記錄/            # Decision records
│   │   ├── 技術選型決策/
│   │   ├── 架構設計決策/
│   │   └── 工具選擇決策/
│   ├── 協作溝通記錄/            # Communication logs
│   │   ├── 會議紀錄/
│   │   ├── 跨角色討論/
│   │   └── 問題解決紀錄/
│   └── 最終規格文件/            # Finalized specifications
│       ├── SA規格書.md               # 系統架構規格
│       ├── FE前端介面實作.md         # 前端實作規範
│       ├── UI介面設計.md             # 介面設計規範
│       └── UI深色模式.md             # 深色模式設計指引
├── .vscode/                   # VS Code 工作區配置
│   └── settings.json          # 編輯器設定
├── .editorconfig              # 編輯器格式化設定
├── .gitattributes             # Git 檔案屬性
├── package.json               # 專案依賴管理
└── README.md                  # 專案說明文件
```

### **角色工作流程文件結構**
每個角色資料夾內採用標準化的工作階段分類：

```markdown
# 檔案命名規範

## PM產品規劃/
- `需求收集與分析.md`        # 初步需求蒐集
- `使用者故事拆解.md`        # User Story 規劃
- `功能優先級排序.md`        # 優先級決策過程
- `MVP範圍定義.md`          # 最小可行產品規劃
- `專案時程規劃.md`         # 里程碑與時程

## UX使用者體驗/
- `使用者研究發現.md`        # 使用者調研結果
- `資訊架構設計.md`         # IA 設計過程
- `深色模式設計.md`         # 主題系統設計指引
- `WebGPU介面設計.md`       # WebGPU 互動介面設計
- `設計系統建立.md`         # Design System

## SA系統分析/
- `技術架構選型.md`         # Vue 3 + WebGPU 技術棧選擇
- `系統整合設計.md`         # 前後端整合架構
- `WebGPU規格設計.md`       # WebGPU 渲染規格
- `API介面設計.md`          # 前後端 API 設計
- `效能需求規範.md`         # 系統效能要求

## FE前端開發/
- `Vue3架構設計.md`           # Vue 3 + Composition API 設計
- `WebGPU渲染系統.md`        # WebGPU 渲染引擎實作
- `主題系統實作.md`           # 深色/淺色主題管理
- `TypeScript配置.md`        # TS 配置與型別系統
- `元件設計規劃.md`           # Vue 元件架構設計
- `狀態管理設計.md`           # Composition API 狀態管理
- `路由系統設計.md`           # Vue Router 配置
- `效能優化策略.md`           # 前端效能優化方案
- `建置部署流程.md`           # Vite 建置與部署

## BE後端開發/
- `服務架構設計.md`         # 後端服務架構
- `資料庫設計.md`           # 資料庫結構設計
- `API開發規範.md`          # RESTful API 規範
- `與前端整合.md`           # 前後端整合策略

## QA品質保證/
- `Vue元件測試.md`          # Vue 元件測試策略
- `WebGPU功能測試.md`       # WebGPU 功能測試
- `效能測試規劃.md`         # 前端效能測試
- `跨瀏覽器測試.md`         # 瀏覽器相容性測試

## DevOps維運部署/
- `Vite建置流程.md`         # Vite 建置配置
- `靜態檔案部署.md`         # 前端靜態檔案部署
- `環境配置管理.md`         # 開發/測試/正式環境
- `CI/CD流程設計.md`        # 持續整合部署
```

### **專案特有技術架構說明**
```markdown
# Vue 3 + WebGPU 專案架構

## 前端技術棧
- **框架**: Vue 3.4+ (Composition API)
- **型別系統**: TypeScript 5.0+
- **建置工具**: Vite 5.0+
- **路由**: Vue Router v4
- **渲染引擎**: WebGPU + Canvas 2D (混合模式)
- **主題系統**: CSS 變數 + localStorage 持久化

## 核心檔案說明
- `clientapp/src/App.vue`: 主應用元件，包含導覽與主題切換
- `clientapp/src/components/WebGPUCanvas.vue`: WebGPU 渲染元件
- `clientapp/src/composables/useWebGPUUI.ts`: WebGPU 渲染邏輯
- `clientapp/src/composables/themeManager.ts`: 主題管理系統
- `clientapp/src/styles/theme.css`: 主題 CSS 變數定義

## 開發工作流程
1. **本機開發**: `npm run dev` (Vite 開發伺服器)
2. **建置**: `npm run build` (生產版本建置)
3. **預覽**: `npm run preview` (建置後預覽)
4. **型別檢查**: `npm run type-check` (TypeScript 檢查)

## Git 與編輯器配置
- `.editorconfig`: 統一編輯器格式化設定
- `.gitattributes`: Git 檔案屬性 (CRLF 處理)
- `.vscode/settings.json`: VS Code 工作區設定
- `tsconfig.json`: TypeScript 編譯設定
```

### **工作流程狀態標記**
在每個檔案開頭使用標準化狀態標記：

```markdown
---
role: FE                     # PM | SA | UI | FE | BE | QA | DevOps
stage: 已定版                # 草稿階段 | 討論中 | 待審核 | 已定版
priority: 高                # 高 | 中 | 低
related-roles: [SA, UI]     # 相關協作角色
last-updated: 2025-01-21
target-branch: Gary
status: 已完成              # 進行中 | 待回饋 | 待決策 | 已完成
tech-stack: [Vue3, WebGPU, TypeScript]  # 技術棧標記
---

# FE - Vue 3 + WebGPU 主題系統實作

## 實作成果
✅ 深色/淺色主題切換功能完整實作
✅ CSS 變數系統整合 WebGPU uniform buffers
✅ localStorage 主題狀態持久化
✅ Vue Composition API 主題管理器

## 技術實作細節
- **主題管理器**: `src/composables/themeManager.ts`
- **主題樣式**: `src/styles/theme.css`
- **WebGPU 整合**: `src/composables/useWebGPUUI.ts`
- **UI 元件**: `src/components/ThemeToggle.vue`
```

## 輸出產物

### 1. **角色工作流程模板**
```markdown
# [角色]工作流程模板

## 工作階段分類
1. **初步分析** - 問題定義與初步思考
2. **深度探討** - 詳細分析與方案設計
3. **跨角色協作** - 與其他角色的討論與整合
4. **方案優化** - 基於回饋的調整與改善
5. **最終定版** - 確定的規格與標準

## 檔案命名規範
- 使用描述性中文名稱
- 包含工作階段資訊
- 標註版本號碼（如需要）

## 協作流程
- 草稿完成後標記 `待回饋`
- 邀請相關角色提供意見
- 整合回饋後標記 `待審核`
- PM 或技術委員會審核後標記 `已定版`
```

### 2. **文件生命週期管理**
```markdown
# 文件狀態管理流程

## 狀態定義
- **草稿階段**: 個人思考與初步規劃
- **討論中**: 與相關角色協作討論
- **待審核**: 等待 PM 或委員會審核
- **已定版**: 確定的最終規格

## 升級機制
1. 草稿 → 討論中: 角色主動發起協作
2. 討論中 → 待審核: 達成共識後提交
3. 待審核 → 已定版: 通過審核流程
4. 已定版 → 草稿: 需求變更時重新開始

## 歸檔規則
- 已定版文件移至 `最終規格文件/`
- 保留工作流程文件供參考
- 建立版本追蹤記錄
```

## 下一步行動

### 立即執行（今日）：
1. **✅ 已完成：建立 Vue 3 + WebGPU 前端架構**：完整的前端應用已實作
2. **✅ 已完成：實作主題系統**：深色/淺色模式已完整整合
3. **✅ 已完成：TypeScript 配置**：完整的型別系統已設定
4. **🔄 進行中：更新文件架構**：按照實際專案結構更新文件組織

### 短期規劃（本週內）：
1. **建立標準化文件模板**：為各角色建立符合當前技術棧的模板
2. **整合現有文件**：將現有規格書按新架構重新組織
3. **補充技術文件**：針對 WebGPU 渲染系統建立詳細文件

### 💻 專案當前狀況：
- **前端應用**: Vue 3 + WebGPU 完整運行，包含主題系統
- **開發環境**: Vite + TypeScript 完整配置，支援熱重載
- **版本控制**: Git 配置完成，CRLF 處理已設定
- **編輯器**: VS Code 工作區已配置，型別檢查正常

## 協作提醒

### 🤝 各角色配合事項：
- **所有角色**：使用新的文件架構與狀態標記
- **前端相關角色 (SA/UI/FE)**：重點關注 Vue 3 + WebGPU 技術棧
- **定期更新**：及時更新文件狀態與相關角色標記
- **跨角色協作**：主動邀請相關角色參與討論

### 💡 架構優勢：
1. **✅ 技術棧清晰**：Vue 3 + WebGPU 前端架構已確立
2. **✅ 工作流程透明**：從草稿到定版的完整追蹤
3. **✅ 實際專案導向**：文件架構反映真實專案結構
4. **🔄 持續改善**：基於實際開發經驗調整文件組織

### 🚨 注意事項：
- **技術文件更新**：WebGPU 相關文件需持續更新
- **跨平台相容性**：注意不同作業系統的開發環境差異
- **效能監控**：WebGPU 應用的效能需持續追蹤
- **瀏覽器支援**：WebGPU 瀏覽器相容性需持續關注

**專案更新總結**：文件架構已更新以反映實際的 Vue 3 + WebGPU 前端專案結構。前端應用已完整實作，包含主題系統、路由、TypeScript 配置等核心功能。文件系統現在更貼近實際開發流程，便於團隊協作與知識管理。
