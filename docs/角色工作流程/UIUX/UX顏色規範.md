## 核心建議

1. **補齊 CSS 變數設計，避免硬編碼顏色**
   - 發現部分區塊、按鈕、提示等仍直接寫死顏色，未全數用 `var(--*)` 變數，導致主題切換時有色彩不一致或低對比問題。
   - 建議將所有背景色、文字色、邊框色、互動狀態色（hover/active/disabled）全數改為 CSS 變數，並於 theme.css 定義齊全。

2. **增強深色模式下的對比和閱讀性**
   - 現有深色主題的 `--bg-secondary`、`--bg-tertiary`、`--text-secondary` 部分組合在灰色背景與灰色文字時，對比度低於 WCAG AA 建議（4.5:1），易造成閱讀困難。
   - 建議調整深色主題的副背景色與副文字色（如可考慮用 #f1f5f9 搭配 #1e293b 或反之），加強各種 alert、input、按鈕等元件的文字與背景對比。

3. **提升錯誤、提示訊息的辨識度**
   - 錯誤訊息、重要提示應採用明顯的高對比色（如：紅底白字、黃底黑字），並統一用變數控制，避免紅色過淺或背景與文字接近。
   - 目前 error-message class 需統一用 `--accent-error-bg`、`--accent-error-text` 變數，並於 theme.css 定義。

4. **互動狀態（hover, focus, active）需明確**
   - 按鈕 hover/active 狀態部分直接寫顏色，應改用變數（如 `--ui-button-hover`、`--ui-button-active`）。
   - input、按鈕 focus 狀態需有明顯的可達性指示（如外框或陰影），且深色淺色下均需調整。

5. **高對比模式支援與無障礙優化**
   - theme.css 已有 `@media (prefers-contrast: high)`，但主要只覆蓋 accent，建議補齊所有核心配色（主背景、主文字、邊框、互動元件），確保高對比下各元件皆可辨識。
   - 所有互動元件應檢查 focus-visible 樣式，確保鍵盤用戶能辨識焦點位置。

## 輸出產物
- CSS 變數補齊清單（含主題、狀態、alert 專用）
- theme.css 調整建議稿
- 元件內部 style 範例重構建議
- WCAG 對比檢查報告（針對問題組合）

## 下一步行動
- Step 1：各 .vue 元件全面盤點、標記硬編碼顏色與低對比區域（UX/0.5日）
- Step 2：產出 CSS 變數補齊與主題對照表（UX/0.5日）
- Step 3：協同 FE 進行元件內 style 升級為統一變數/調色（UX+FE/1日）
- Step 4：針對主要區域進行 WCAG 對比測試，出具報告（UX/0.5日）

## 協作提醒
- 需 FE 協助盤點現有 style 與元件，協作重構
- QA 可協助無障礙、對比測試

## 背景與目標
- 背景：現有樣式雖有主題變數，但尚有部分區塊、狀態未統一，深色主題下多處低對比或閱讀不清，已影響體驗
- 目標：完成全站色彩變數統一、補齊高對比與互動狀態，確保夜間模式與主題切換下皆具備良好可讀性

## 驗收標準
- [ ] 主要元件（SortingVisualizationPinia 等）內無硬編碼顏色
- [ ] 深色主題下所有背景/文字/互動狀態對比達到 WCAG 2.1 AA
- [ ] 錯誤、提示等 alert 顏色清晰、可讀
- [ ] 高對比模式（prefers-contrast: high）下無主題色混淆
- [ ] 主要互動元件有明確 focus 樣式

## 風險與依賴
- 風險：部分樣式重構牽動多組件，需回歸測試
- 依賴：FE 樣式 refactor、QA 對比測試

## 時程與優先級
- 預估：2.5日
- 截止：2025-08-15
- 優先級：High

## 相關連結
- [2025-08-11 FE 開發成果總結](docs/角色工作流程/FE/2025-08-11-開發成果總結.md)
- theme.css
- 主要 .vue 元件

---

如需 CSS 變數補齊清單或 theme.css 優化建議，可進一步提供。
